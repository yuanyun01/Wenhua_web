<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文化活动 - 城市文化产业宣传与促进平台</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 图标库 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-building-columns me-2"></i>城市文化平台
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">首页</a></li>
                    <li class="nav-item"><a class="nav-link" href="culture.html">文化资源</a></li>
                    <li class="nav-item"><a class="nav-link active" href="events.html">文化活动</a></li>
                    <li class="nav-item"><a class="nav-link" href="forum.html">互动交流</a></li>
                    <li class="nav-item"><a class="nav-link" href="statistics.html">数据统计</a></li>
                </ul>
                <div class="d-flex" id="userNav">
                    <a href="login.html" class="btn btn-outline-light me-2">登录</a>
                    <a href="register.html" class="btn btn-primary">注册</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 页面头部 -->
    <header class="py-5 bg-primary text-white">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>文化活动中心</h1>
                    <p class="lead">发现精彩的文化活动，参与城市文化建设</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <button class="btn btn-light btn-lg" id="publishEventBtn">
                        <i class="bi bi-plus-circle me-2"></i>发布活动
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 搜索筛选区 -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control" id="searchInput" placeholder="搜索活动名称/类型/地点">
                        <button class="btn btn-primary" id="searchBtn">
                            <i class="bi bi-search me-1"></i>搜索
                        </button>
                    </div>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="categorySelect">
                        <option value="all">全部活动类型</option>
                        <option value="exhibition">展览</option>
                        <option value="performance">演出</option>
                        <option value="experience">体验课</option>
                        <option value="lecture">讲座</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="timeSelect">
                        <option value="all">全部时间</option>
                        <option value="week">本周</option>
                        <option value="month">本月</option>
                        <option value="quarter">本季度</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- 活动列表 -->
    <section class="py-5">
        <div class="container">
            <h3 class="mb-4">近期热门活动</h3>
            <div class="row g-4" id="eventsList">
                <!-- 活动1 -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm event-card" data-category="exhibition">
                        <div class="card-img-top position-relative">
                            <img src="https://picsum.photos/400/250?random=20" class="w-100" alt="非遗精品展">
                            <span class="badge bg-danger position-absolute top-0 start-0 m-2">热门</span>
                            <span class="badge bg-info position-absolute top-0 end-0 m-2">展览</span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">非遗精品展 - 匠心传承</h5>
                            <p class="card-text text-muted"><i class="bi bi-calendar me-1"></i>2026-02-10 至 2026-03-10</p>
                            <p class="card-text text-muted"><i class="bi bi-geo-alt me-1"></i>市博物馆 1号展厅</p>
                            <p class="card-text">集中展示本市12项国家级非遗精品，近距离感受传统工艺的魅力。</p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="text-primary fw-bold">免费</span>
                                <span><i class="bi bi-eye me-1"></i>2589人已浏览</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent d-flex gap-2">
                            <button class="btn btn-sm btn-primary flex-fill" onclick="goToTicket('非遗精品展', 'free')">
                                <i class="bi bi-ticket-detailed me-1"></i>预约报名
                            </button>
                            <button class="btn btn-sm btn-outline-primary flex-fill" onclick="viewEventDetail('非遗精品展')">
                                <i class="bi bi-info-circle me-1"></i>详情
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 活动2 -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm event-card" data-category="performance">
                        <div class="card-img-top position-relative">
                            <img src="https://picsum.photos/400/250?random=21" class="w-100" alt="经典戏曲演出">
                            <span class="badge bg-warning text-dark position-absolute top-0 start-0 m-2">售票中</span>
                            <span class="badge bg-info position-absolute top-0 end-0 m-2">演出</span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">经典戏曲《牡丹亭》演出</h5>
                            <p class="card-text text-muted"><i class="bi bi-calendar me-1"></i>2026-02-15 19:30</p>
                            <p class="card-text text-muted"><i class="bi bi-geo-alt me-1"></i>市大剧院</p>
                            <p class="card-text">经典昆曲剧目《牡丹亭》全本演出，国家一级演员领衔主演。</p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="text-primary fw-bold">¥80-580</span>
                                <span><i class="bi bi-eye me-1"></i>3256人已浏览</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent d-flex gap-2">
                            <button class="btn btn-sm btn-primary flex-fill" onclick="goToTicket('经典戏曲《牡丹亭》演出', 'paid')">
                                <i class="bi bi-ticket-detailed me-1"></i>立即购票
                            </button>
                            <button class="btn btn-sm btn-outline-primary flex-fill" onclick="viewEventDetail('经典戏曲《牡丹亭》演出')">
                                <i class="bi bi-info-circle me-1"></i>详情
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 活动3 -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm event-card" data-category="experience">
                        <div class="card-img-top position-relative">
                            <img src="https://picsum.photos/400/250?random=22" class="w-100" alt="剪纸体验课">
                            <span class="badge bg-success position-absolute top-0 start-0 m-2">预约中</span>
                            <span class="badge bg-info position-absolute top-0 end-0 m-2">体验课</span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">非遗剪纸手作体验课</h5>
                            <p class="card-text text-muted"><i class="bi bi-calendar me-1"></i>2026-02-20 14:00</p>
                            <p class="card-text text-muted"><i class="bi bi-geo-alt me-1"></i>市文化馆 手工教室</p>
                            <p class="card-text">非遗传承人亲自授课，零基础也能学会精美剪纸作品。</p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="text-primary fw-bold">¥98/人</span>
                                <span><i class="bi bi-eye me-1"></i>1890人已浏览</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent d-flex gap-2">
                            <button class="btn btn-sm btn-primary flex-fill" onclick="goToTicket('非遗剪纸手作体验课', 'paid')">
                                <i class="bi bi-ticket-detailed me-1"></i>预约报名
                            </button>
                            <button class="btn btn-sm btn-outline-primary flex-fill" onclick="viewEventDetail('非遗剪纸手作体验课')">
                                <i class="bi bi-info-circle me-1"></i>详情
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 活动4 -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm event-card" data-category="lecture">
                        <div class="card-img-top position-relative">
                            <img src="https://picsum.photos/400/250?random=23" class="w-100" alt="文化讲座">
                            <span class="badge bg-primary position-absolute top-0 start-0 m-2">即将开始</span>
                            <span class="badge bg-info position-absolute top-0 end-0 m-2">讲座</span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">城市文化发展高峰论坛</h5>
                            <p class="card-text text-muted"><i class="bi bi-calendar me-1"></i>2026-02-25 09:00</p>
                            <p class="card-text text-muted"><i class="bi bi-geo-alt me-1"></i>国际会议中心</p>
                            <p class="card-text">邀请知名文化学者探讨城市文化产业发展的机遇与挑战。</p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="text-primary fw-bold">¥198/人</span>
                                <span><i class="bi bi-eye me-1"></i>1567人已浏览</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent d-flex gap-2">
                            <button class="btn btn-sm btn-primary flex-fill" onclick="goToTicket('城市文化发展高峰论坛', 'paid')">
                                <i class="bi bi-ticket-detailed me-1"></i>预约报名
                            </button>
                            <button class="btn btn-sm btn-outline-primary flex-fill" onclick="viewEventDetail('城市文化发展高峰论坛')">
                                <i class="bi bi-info-circle me-1"></i>详情
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 加载更多 -->
            <div class="text-center mt-5">
                <button class="btn btn-outline-primary" id="loadMoreBtn">
                    <i class="bi bi-arrow-down-circle me-2"></i>加载更多活动
                </button>
            </div>
        </div>
    </section>

    <!-- 发布活动模态框 -->
    <div class="modal fade" id="publishEventModal" tabindex="-1" aria-labelledby="publishEventModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="publishEventModalLabel">发布文化活动</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="publishEventForm">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="eventName" class="form-label">活动名称</label>
                                <input type="text" class="form-control" id="eventName" required placeholder="请输入活动名称">
                            </div>
                            <div class="col-md-6">
                                <label for="eventCategory" class="form-label">活动类型</label>
                                <select class="form-select" id="eventCategory" required>
                                    <option value="">请选择活动类型</option>
                                    <option value="exhibition">展览</option>
                                    <option value="performance">演出</option>
                                    <option value="experience">体验课</option>
                                    <option value="lecture">讲座</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="eventDate" class="form-label">活动日期</label>
                                <input type="date" class="form-control" id="eventDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="eventTime" class="form-label">活动时间</label>
                                <input type="time" class="form-control" id="eventTime" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="eventLocation" class="form-label">活动地点</label>
                            <input type="text" class="form-control" id="eventLocation" required placeholder="请输入详细地址">
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="eventPrice" class="form-label">活动费用</label>
                                <div class="input-group">
                                    <span class="input-group-text">¥</span>
                                    <input type="number" class="form-control" id="eventPrice" min="0" step="0.01" placeholder="0.00">
                                    <span class="input-group-text">元</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="eventQuota" class="form-label">报名限额</label>
                                <input type="number" class="form-control" id="eventQuota" min="1" value="100" placeholder="不限则留空">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="eventDesc" class="form-label">活动详情</label>
                            <textarea class="form-control" id="eventDesc" rows="4" required placeholder="请详细描述活动内容、亮点、参与方式等"></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">活动图片</label>
                            <input type="file" class="form-control" id="eventImage" accept="image/*">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" id="submitEventBtn">发布活动</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="bi bi-building-columns me-2"></i>城市文化产业宣传与促进平台</h5>
                    <p>致力于推广城市文化，促进文化产业发展</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>© 2026 城市文化平台 版权所有</p>
                    <p>隐私政策 | 服务条款</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 全局JS -->
    <script src="js/main.js"></script>
    <!-- 活动相关JS -->
    <script src="js/events.js"></script>
</body>
</html>